# Docker Compose para el Entorno de Desarrollo de Aurora Nova

services:
  db:
    # Imagen oficial de PostgreSQL 18 con Alpine Linux, ligera y eficiente.
    image: postgres:18-alpine3.22
    container_name: aurora-nova-db
    restart: unless-stopped

    # Variables de entorno para la configuraci贸n de la base de datos.
    # ADVERTENCIA: Usar un sistema de gesti贸n de secretos para producci贸n.
    environment:
      POSTGRES_USER: aurora_user
      POSTGRES_PASSWORD: changeme_in_production
      POSTGRES_DB: aurora_nova_db
      TZ: America/El_Salvador
      LANG: es_SV.UTF-8

    # Mapeo de puertos: El puerto 5432 del contenedor se expone en el puerto 5432 del host.
    # Si tienes otro PostgreSQL corriendo localmente, puedes cambiar el puerto del host (ej. "5433:5432").
    ports:
      - "5432:5432"

    # Volumen para persistir los datos de la base de datos entre reinicios del contenedor.
    volumes:
      - aurora-nova-db-data:/var/lib/postgresql/data

# Definici贸n del volumen nombrado para la persistencia de datos.
volumes:
  aurora-nova-db-data:
